"use strict";const e=require("../../common/vendor.js"),s=require("../../utils/auth.js"),i=require("../../utils/api.js");if(require("../../utils/request.js"),require("../../utils/env.js"),!Array){(e.resolveComponent("uni-collapse-item")+e.resolveComponent("uni-collapse"))()}Math||(t+(()=>"../../uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.js")+(()=>"../../uni_modules/uni-collapse/components/uni-collapse/uni-collapse.js"))();const t=()=>"../components/abMiniButton.js",n={__name:"addRecords",props:["recordsList","showBtn"],setup(t){const n=e=>e.reduce(((e,s)=>e+s.count*s.price),0);return(o,c)=>({a:e.f(t.recordsList,((t,o,c)=>e.e({a:0==o},0==o?{b:e.t(n(t.items).toFixed(2))}:e.e({c:e.t(t.isFinish?"已上菜":"准备中"),d:e.n(t.isFinish?"text-text5":"text-text3"),e:e.t(o),f:e.t(n(t.items).toFixed(2)),g:!t.isFinish&&e.unref(s.getToken)()},!t.isFinish&&e.unref(s.getToken)()?{h:e.o((s=>(async s=>{await i.updateRecordsApi({id:s.id,isFinish:!0}),s.isFinish=!0,e.index.showToast({icon:"success",mask:!0})})(t)),o),i:"57af93bb-2-"+c+",57af93bb-1-"+c}:{}),{j:e.t(e.unref(e.dayjs)(t.createTime).format("YYYY-MM-DD HH:mm:ss")),k:e.f(t.items,((s,i,t)=>({a:e.t(s.name),b:e.t(s.price),c:e.t(s.count),d:e.t((s.price*s.count).toFixed(2)),e:s.type}))),l:o,m:"57af93bb-1-"+c+",57af93bb-0"}))),b:e.p({"show-animation":!0}),c:e.p({accordion:!0})})}};wx.createComponent(n);
